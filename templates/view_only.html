{% load static %}

<!DOCTYPE html>
<html>
<head>
  <title>Service Request</title>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <!-- <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet">
  <link href="service-request.css" rel="stylesheet">
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.4.0/jspdf.umd.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/html2pdf.js/0.9.2/html2pdf.bundle.js"></script> -->

  <script type="text/javascript">
    $(document).ready( function () {
        var table = $('#user-table').DataTable();
        var query = "";
        if (query) {
            $('#search-box').val(query);
            table.search(query).draw();
        }
        $('#search-box').on('keyup', function () {
            table.search(this.value).draw();
        });
    });
</script>

<link rel="stylesheet" href="{% static 'css/style_base.css' %}">
<link rel="stylesheet" href="{% static 'css/css_icons.css' %}">
<link rel="stylesheet" href="{% static 'css/css_colors.css' %}">
<link rel="stylesheet" href="{% static 'css/bootstrap.min.css' %}">
<link rel="stylesheet" href="{% static 'cdn/font-awesome.min.css' %}">
<script src="{% static 'cdn/bootstrap.bundle.min.js' %}"></script>

<script src="{% static 'cdn/jspdf.umd.min.js' %}"></script>
<script src="{% static 'cdn/html2pdf.bundle.js' %}"></script>

<script src="{% static 'cdn/jquery-3.5.1.slim.min.js' %}"></script>
<script src="{% static 'cdn/jquery-3.6.0.min.js' %}"></script>
<script src="{% static 'cdn/bootstrap.min.js' %}"></script>
<!-- <script src="{% static 'cdn/popper.min.js' %}"></script> -->

<link rel="stylesheet" type="text/css" href="{% static 'cdn/datatables.min.css' %}" />
<script type="text/javascript" src="{% static 'cdn/datatables.min.js' %}"></script>

  <style>
    #user-table td {
      font-size: 12px;
    }
  </style>
<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>

    <link rel="stylesheet" type="text/css" href="https://cdn.datatables.net/v/dt/dt-1.11.3/datatables.min.css"/>
    <script type="text/javascript" src="https://cdn.datatables.net/v/dt/dt-1.11.3/datatables.min.js"></script>
    <script type="text/javascript">
        $(document).ready( function () {
            var table = $('#user-table').DataTable();
            var query = "";
            if (query) {
                $('#search-box').val(query);
                table.search(query).draw();
            }
            $('#search-box').on('keyup', function () {
                table.search(this.value).draw();
            });
        });
    </script>
 <link rel="stylesheet" href="{% static 'css/style_base.css' %}">

 <style>
    .signatures-container {
        display: flex;
        justify-content: center;
    }

    .signature {
        text-align: center;
        margin-right: 20px;
    }

    .signature img {
        width: 200px; /* Set the desired width for your images */
        height: 100px; /* Maintain aspect ratio */
        /* border: 1px solid #333; Optional border for each image */
        margin-bottom: 5px; /* Space between image and name */
    }
</style>


</head>
<body>
  
    <div style="border: 2px solid black; margin: auto; padding: 25px;padding-bottom: 5%;">
<div class="flex-container" style="width: 70%;margin: auto; border: 5px solid grey;flex-direction: column; padding: 15px;">
    <div class="row">
        <div class="col-md-4">
            <div id="logo" class="logo-container">
                <img src="https://www.mblbd.com/style/images/mbl_logo.jpg" class="img-responsive" alt="" style="width: 50%;">            </div>
        </div>
        <div class="col-md-4">
            <div class="jumbotron" style="margin: 10px auto;text-align: center;">
                <h3>Mercantil Bank PLC</h3>
                <p class="display-8">(Access/Service Request Form) </p>                  
              </div>
        </div>

        <div class="col-md-4">
            <div style="text-align: right;"><p>Doc. No : {{form.form_no}}</p></div>
        </div>
        <hr class="my-3">

   
          </div>
  
  
    <div class="row ">
     
             <div class="container content-padding">
                 <form action="{% url 'service_request' %}" method="post">
                    {% csrf_token %}
                    <!-- <input type="text" name="form_no" id="form_no" value="{{form.form_no}}" readonly> -->
                     <div class="card">
                         <div class="col-sm-12 card-padding">
                                <div class="row">
                                     <div class="col-sm-7">
                                         <div class="input-group input-group-sm">
                                             <span class="input-group-text col-form-label-sm" id="addon-wrapping" style="width: 33%;">Request No:</span>
                                             {{form.request_no}}
                                         </div>
                                     </div>

                                     <div class="col-sm-5">
                                         <div class="input-group input-group-sm">
                                             <span class="input-group-text" id="addon-wrapping" style="width: 44%;">Date:</span>
                                             {{form.date}}
                                         </div>
                                     </div>
                                    </div>

                                    <div class="row">
                                    <div class="col-sm-7">
                                        <div class="input-group input-group-sm">
                                            <span class="input-group-text" id="addon-wrapping" style="width: 33%;">Employee Name:</span>
                                            {{form.employee_name}}
                                        </div>
                                    </div>
                                    

                                     <div class="col-sm-5">
                                         <div class="input-group input-group-sm">
                                             <span class="input-group-text" id="addon-wrapping" style="width: 44%;">Request For:</span>
                                             {{form.request_for.value}}
                                         </div>
                                     </div>
                                    </div>
                                 <div class="row">
                                     
                                    <div class="col-sm-7">
                                        <div class="input-group input-group-sm">
                                            <span class="input-group-text" id="addon-wrapping" style="width: 33%;">Department:</span>
                                            {{form.department}}
                                        </div>
                                    </div>
                                     <div class="col-sm-5">
                                         <div class="input-group input-group-sm">
                                             <span class="input-group-text" id="addon-wrapping" style="width: 44%;">Mobile No:</span>
                                             {{form.mobile_no}}
                                         </div>
                                     </div>
                                 </div>

                                 <div class="row">
                                    
                         

                                    <div class="col-sm-7">
                                        <div class="input-group input-group-sm">
                                            <span class="input-group-text" id="addon-wrapping" style="width: 33%;">Designation:</span>
                                            {{form.designation}}
                                        </div>
                                    </div>
                                     <div class="col-sm-5">
                                         <div class="input-group input-group-sm">
                                             <span class="input-group-text" id="addon-wrapping" style="width: 44%;">Employee ID:</span>
                                             {{form.employee_id}}
                                           
                                         </div>
                                     </div>
                                 </div>

                                 <div class="row">
 
                                    <div class="col-sm-7">
                                        <div class="input-group input-group-sm">
                                            <span class="input-group-text" id="addon-wrapping" style="width: 33%;">Branch/Division Name:</span>
                                            {{form.branch_division_name}}
                                        </div>
                                    </div>
                                     <div class="col-sm-5">
                                         <div class="input-group input-group-sm">
                                             <span class="input-group-text" id="addon-wrapping" style="width: 44%;">Branch Code:</span>
                                             {{form.branch_code}}
                                         </div>
                                     </div>
                                 </div>

                                 <div class="row">
                                     <div class="col-sm-7">
                                         <div class="input-group input-group-sm">
                                             <div class="input-group input-group-sm">
                                                 <span class="input-group-text" id="addon-wrapping" style="width: 33%;">PC IP Address:</span>
                                                 {{form.ip_address}}
                                             </div>
                                         </div>
                                     </div>

                                     <div class="col-sm-5">
                                        <div class="input-group input-group-sm">
                                            <span class="input-group-text" id="addon-wrapping" style="width: 44%;">Email</span>
                                            {{form.email}}
                                        </div>
                                    </div>
                                 </div>
                         </div>
                     </div>
                        <br>
                     <div class="card">
                            <div class="row">

                            <div class="col-sm-12">
                                <div class="input-group input-group-sm">
                                    <span class="input-group-text col-form-label-sm" id="addon-wrapping" style="width: 31%;">Requested For:</span>
                                    <span class="input-group-text col-form-label-sm" id="addon-wrapping" style="width: 69%;background-color: white;">
                                    
                                        {% for choice in form.self_type %}
                                    <div class="form-check form-check-inline">
                                        {{ choice.tag }}
                                        <label class="form-check-label" for="{{ choice.id_for_label }}">{{ choice.choice_label }}</label>
                                    </div>
                                {% endfor %}
                                    
                                    </span>
                                
                                </div>


                            </div>

                         

                            <div class="col-sm-12">
                                <div class="input-group input-group-sm">
                                    <span class="input-group-text col-form-label-sm" id="addon-wrapping" style="width: 31%;">Date Duration:</span>
                                    <span class="input-group-text col-form-label-sm" id="addon-wrapping" style="width: 33%; background-color: white;">From: &nbsp;&nbsp;{{form.from_date}}</span>
                                    <span class="input-group-text col-form-label-sm" id="addon-wrapping" style="width: 36%;background-color: white;">                                    To: &nbsp;&nbsp;{{form.to_date}}&nbsp;&nbsp;{{form.to_date_check}}&nbsp;&nbsp;Continuous
                                    </span>
                                    
                                
                                </div>
                            </div>
                          
               
                            <div class="col-sm-12">
                                <div class="input-group input-group-sm">
                                    <span class="input-group-text col-form-label-sm" id="addon-wrapping" style="width: 31%;">Time Duration:</span>
                                    <span class="input-group-text col-form-label-sm" id="addon-wrapping" style="width: 33%;background-color: white;">From: &nbsp; &nbsp;{{form.from_time}}</span>
                                    <span class="input-group-text col-form-label-sm" id="addon-wrapping" style="width: 36%;background-color: white;">To: &nbsp; &nbsp;{{form.to_time}}</span>

                                </div>
                            </div>
                      
                     
                            <div class="col-sm-12">
                                <div class="input-group input-group-sm">
                                    <span class="input-group-text col-form-label-sm" id="addon-wrapping" style="width: 31%;">Reason of Request:</span>
                                    <span style="width: 69%;">{{form.reason}}</span>
                                    
                                </div>
                            </div>

      
                            <div class="col-sm-12">
                                <div class="input-group input-group-sm">
                                    <span class="input-group-text col-form-label-sm" id="addon-wrapping" style="width: 31%;">Details of Access/Service:</span>
                                    <span style="width: 69%;">{{form.details}}</span>

                                </div>
                            </div>                            
                            </div>

                     </div>
                     <br>
                     <div class="card" style="padding: 5px;">
                        <div class="row">
                            <div class="col-sm-6">
                                <div class="input-group input-group-sm">
                                    <span class="input-group-text col-form-label-sm" id="addon-wrapping" style="width: 31%;">Category:</span>
                                    <span style="width: 69%;">{{form.category}}</span>

                                </div>
                            </div>
                        </div>
                     </div>
                     <div class="card">
                        {% if form.form_no.value == 'MBL-ISMS-FR-67' %}
                        <div class="row">
                            <div class="col-sm-6">
                                <div class="input-group input-group-sm">
                                    <span class="input-group-text col-form-label-sm" id="addon-wrapping" style="width: 31%;">Source IP:</span>
                                    <span style="width: 69%;">{{form.source_ip}}</span>

                                </div>
                            </div> 
                            <div class="col-sm-6">
                                <div class="input-group input-group-sm">
                                    <span class="input-group-text col-form-label-sm" id="addon-wrapping" style="width: 31%;">Destination IP:</span>
                                    <span style="width: 69%;">{{form.destination_ip}}</span>

                                </div>
                            </div> 
                            <div class="col-sm-12">
                                <div class="input-group input-group-sm">
                                    <span class="input-group-text col-form-label-sm" id="addon-wrapping" style="width: 31%;">Destination Port:</span>
                                    <span style="width: 69%;">{{form.destination_port}}</span>

                                </div>
                            </div>
                        </div>
                        {% else %}
                        <div class="row">
                                <div class="col-sm-12">
                                    <div class="input-group input-group-sm">
                                        <span class="input-group-text col-form-label-sm" id="addon-wrapping" style="width: 31%;">Tools/Device Required:</span>
                                        <span style="width: 69%;">{{form.tools_device_required}}</span>
    
                                    </div>
                                </div>
                            </div>
                        {% endif %}
                   
                        <div class="row">
                            <div class="col-sm-12">
                                <div class="input-group input-group-sm">
                                    <span class="input-group-text col-form-label-sm" id="addon-wrapping" style="width: 31%;">Physical Activity Area:</span>
                                    <span style="width: 69%;">{{form.physical_activity_area}}</span>

                                </div>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-sm-12">
                                <div class="input-group input-group-sm">
                                    <span class="input-group-text col-form-label-sm" id="addon-wrapping" style="width: 31%;">Change/Execution Request ID:</span>
                                    <span style="width: 69%;">{{form.chng_exec_req_id}}</span>

                                </div>
                            </div>
                        </div>
                     </div>
<!-- Vendor start -->
                     <div class="row">
                        <div class="col-md-12">
                            <div class="jumbotron" style="margin: 10px auto;">
                                <!-- <h4 class="display-8">Vendor  Engagement</h4> -->
                              
                                   <span class="input-group-text col-form-label-sm justify-content-center" id="addon-wrapping" style="width: 100%;"><strong>Vendor  Engagement</strong> </span>
                              
                              
                              </div>
                        </div>
                     </div>
                     <div class="card">    
                            <div class="row">
                                <div class="col-sm-12">
                                    <div class="input-group input-group-sm">
                                        <span class="input-group-text col-form-label-sm" id="addon-wrapping" style="width: 31%;">Vendor Name</span>
                                        {{form.vendor_name}}
                                       
                                    </div>
                                </div>
                                <div class="col-sm-12">
                                    <div class="input-group input-group-sm">
                                        <span class="input-group-text col-form-label-sm" id="addon-wrapping" style="width: 31%;">Vendor Assigned Person</span>
                                        {{form.name1}}
                                        {{form.contact_number1}}
                                        {{form.name2}}
                                        {{form.contact_number2}}
                                       
                                    </div>
                                </div>
                            </div>
                     </div>
    <!-- Vendor end -->


    <!-- Team Start -->

    <div class="row">
        <div class="col-md-12">
            <div class="jumbotron" style="margin: 10px auto;">
                <!-- <h4 class="display-8">Vendor  Engagement</h4> -->
              
                   <span class="input-group-text col-form-label-sm justify-content-center" id="addon-wrapping" style="width: 100%;"><strong>For Team Execution</strong> </span>
              
              
              </div>
        </div>
     </div>
     <div class="card">    
            <div class="row">
            
                <div class="col-sm-12">
                    <div class="input-group input-group-sm">
                        <span class="input-group-text col-form-label-sm" id="addon-wrapping" style="width: 31%;">Work Team With ID</span>
                        {{form.team_name1}}
                        {{form.team_emp_id1}}
                        
                        {{form.team_name2}}
                        {{form.team_emp_id2}}
                        
                    </div>
                </div>
                <div class="col-sm-12">
                    <div class="input-group input-group-sm">
                        <span class="input-group-text col-form-label-sm" id="addon-wrapping" style="width: 31%;"></span>
                
                        {{form.team_name3}}
                        {{form.team_emp_id3}}
                        
                        {{form.team_name4}}
                        {{form.team_emp_id4}}
                        
                       
                    </div>
                </div>

                <div class="col-sm-12">
                    <div class="input-group input-group-sm">
                        <span class="input-group-text col-form-label-sm" id="addon-wrapping" style="width: 31%;">Lead By</span>
                        {{form.team_lead}}
                        {{form.team_lead_epmloyee_id}}
                       
                    </div>
                </div>
            </div>
     </div>

<!-- Team end -->
                     <!-- <div style="display: flex; justify-content: center; align-items: center;">
                        <input class='btn btn-success' style='width: 30%; margin: 20px auto; justify-self: center;' type="submit" value="Save & Submit" name="form02">             
                       </div>
               -->
                  

                 </form>


                 <div class="signatures-container">
                    <div class="signature">
                        <img src="/media/images/signatures/{{ form.employee_id.value }}_signature.jpg"  alt="John Doe's signature">
                        <p>Applicant Signature </p>
                    </div>
                    <div class="signature">
                        <img src="/media/{{ hod }}" alt="{{ hod }}">
                        <p>HOB/HOD</p>
                    </div>
                    <div class="signature">
                        <img src="/media/{{ ciso }}" alt="{{ ciso }}">
                        <p>CISO</p>
                    </div>
                    <div class="signature">
                        <img src="/media/{{ cto }}" alt="{{ cto }}">
                        <p>CTO</p>
                    </div>
                </div>

  <!-- After Signature -->
  <div class="card" style="margin-bottom: 5px;">    
    <div class="row g-0" >
      <!-- Column 1: Centered Text -->
      <div class="col-lg-3 p-0 px-2 d-flex justify-content-center align-items-center text-center" style="background-color:#e9ecef">
        <div class="w-100">Service/Access/Escort Provider Details:<br>(Bank Personel)</div>             
      </div>

      <!-- Column 2: 3 Form Fields with horizontal padding -->
      <div class="col-lg-3 p-0 px-2">
        <div class="input-group input-group-sm mb-1">
          {{ exe_obj.employeename }}
        </div>
        <!-- <div class="input-group input-group-sm mb-1">
          {{ exe_obj.executed_by }}
        </div> -->
        <div class="input-group input-group-sm mb-1">
          {{ exe_obj.executed_by_timestamp }}
        </div>
      </div>

      <!-- Column 3: Centered Text -->
      <div class="col-lg-3 p-0 px-2 d-flex justify-content-center align-items-center text-center" style="background-color:#e9ecef">
        <div class="w-100">Approved/Acknowledged By</div>
      </div>

      <!-- Column 4: 3 Form Fields with horizontal padding -->
      <div class="col-lg-3 p-0 px-2">
        <div class="input-group input-group-sm mb-1">
            {{ exe_obj.approved_by }}
        </div>
        <div class="input-group input-group-sm mb-1">
          {{ exe_obj.approved_by_timestamp }}
        </div>
        <div class="input-group input-group-sm mb-1">
          <!-- Optional third field -->
        </div>
      </div>
    </div>
  </div>
  <!-- Provided Access/Service Information -->
  <div class="row">
      <div class="col-md-12">
          <div class="jumbotron" style="margin: 10px auto;">
              <!-- <h4 class="display-8">Vendor  Engagement</h4> -->					 
              <span class="input-group-text col-form-label-sm justify-content-center" id="addon-wrapping" style="width: 100%;">
                  <strong>Provided Access/Service Information</strong> 
              </span>						 				
          </div>
      </div>
  </div>
  <!-- After Provided Access/Service Information -->
  <div class="card" style="margin-bottom: 5px;">    
    <div class="row g-0" >
      <!-- Column 1: Centered Text -->
      <div class="col-lg-3 p-0 px-2 d-flex justify-content-center align-items-center text-center" style="background-color:#e9ecef">
        <div class="w-100">Provided Service/Access Details</div>             
      </div>

      <!-- Column 2: 3 Form Fields with horizontal padding -->
      <div class="col-lg-3 p-0 px-2">
        
      </div>
    </div>
  </div>
  <!-- Revoke / Return Date -->
  <div class="card" style="margin-bottom: 15px;">    
    <div class="row g-0" >					
      <div class="col-lg-3 p-0 px-2 d-flex justify-content-center align-items-center text-center" style="background-color:#e9ecef">
        <div class="w-100">Revoke/Return Date & Time:<br>(While Temporary)</div>             
      </div>
      <div class="col-lg-4 p-0 px-2 py-1">
          <div class="input-group input-group-sm mb-2">
              <!-- <label class="input-group-text">Date</label>
              <input type="date" class="form-control form-control-sm" name="date"> -->
              {{ exe_obj.revoke_date_time }}
          </div>

          <!-- <div class="input-group input-group-sm">
              <label class="input-group-text">Time</label>
              <input type="time" class="form-control form-control-sm" name="time">
          </div>				   -->
      </div>
      <div class="col-lg-1 p-0 px-2">
        
      </div>
      <div class="col-lg-2 p-0 px-2 d-flex justify-content-center align-items-center text-center" style="background-color:#e9ecef">
        <div class="w-100">Revoke By:  </div>    
        <div class="col-lg-3 p-0 px-2">
            <div class="input-group input-group-sm mb-2">
                <!-- <label class="input-group-text">Date</label>
                <input type="date" class="form-control form-control-sm" name="date"> -->
                {{ exe_obj.revoked_by }}
            </div>
          </div>         
      </div>
   
    </div>
  </div>

              
             </div>

       
  
    </div>
 </div>

    </div>


</body>
<footer>
    {% if check %}
    <a href="{% url 'actions' form.request_no.value %}" type="button" class="btn btn-outline-success btn-sm">Accept</a>
                <button type="button" class="btn btn-outline-danger btn-sm">Deny</button>
    {% endif %}
</footer>

</html>



