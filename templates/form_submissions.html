{% extends 'base.html' %}  
  
{% block content %}  

<style>
   /* table {
    border-collapse: collapse;
    width: 100%;
}

th, td {
    border: 2px solid #cccbcb;
    padding: 6px;
    text-align: center;
} */

th {
    /* background-color: #026492;
    color: white; */
    font-size: 16px;
}

td {
    font-size: 12px;
}


.badge {
  /* background-color: rgb(235, 71, 71); */
  /* background-color: rgb(243, 243, 243); */
  color: rgb(236, 15, 15);
  padding: 2px 2px;
  width: 50%; 
  margin: 5px auto; 
  justify-self: center;
  border: 2px;
  border-color: black;
  
  /* border-radius: 100%; */
}
.badge:before {
  content: "";
  position: absolute;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  width: 20px;
  height: 20px;
  background: url(alert-icon.svg) no-repeat center;
}

</style>
<div class="flex-container">
<div class="table">
    <div class="row">
        <!-- <div class="col-md-4">
            <div id="logo" class="logo-container">
                <img src="https://www.mblbd.com/style/images/mbl_logo.jpg" class="img-responsive" alt="" style="width: 50%;">            </div>
        </div> -->
        <div class="col-md-12">
                <h5 style=" border: 2px solid white;border-left: 4px solid #1c39bb ;">Access/Service Requests </h5>
        </div>
        {% if messages %}
				
			{% for message in messages %}
            <div class="badge">
                <span class="border border-danger">{{ message }}</span>
                <!-- <p{% if message.tags %} class="{{ message.tags }}"{% endif %}>{{ message }}</p> -->

            </div>
					<!-- <p{% if message.tags %} class="{{ message.tags }}"{% endif %}>{{ message }}</p> -->
			{% endfor %}
				
		{% endif %}
        <!-- <hr class="my-3"> -->
     </div>

     
  <!-- <div class="row">
    <div class="col-md-10">
        <h2>Service Requests</h2>
        <ul>
            {% for entry in service_requests %}
                <li>
                    {{ entry.form_no }}/{{ entry.employee_name }}/{{ entry.designation }}
                    <a href="{% url 'delete_entry' entry.id %}">Delete</a>
                    <a href="{% url 'update_entry' entry.id %}">Update</a>
                </li>
            {% endfor %}
        </ul>
    </div>
  

    <div>
           
        <table id="user-table" >
    <thead>
       <tr>
           <th>Form No.</th>
           <th>Email</th>
           <th>Employee Name</th>
           <th>Employee ID</th>
           <th>Designation</th>
           <th>Details of Service</th>
           <th>Actions</th>
       </tr>
    </thead>
    <tbody>
        {% for entry in service_requests %}
       <tr>
           <td>{{ entry.form_no }}</td>
           <td>{{ entry.employee_name }}</td>
           <td>{{ entry.employee_id }}</td>
           <td>{{ entry.designation }}</td>
           <td>{{ entry.details }}</td>
           <td>
            <button type="button" class="btn btn-outline-success btn-sm"><a href="{% url 'view_only' entry.id %}">View Form</a></button>
               <a href="{% url 'task_execute' %}?id={{ entry.id }}&details={{ entry.details }}&status=1" class="btn btn-sm btn-primary" {% if entry.id in exec_log %}disabled{% endif %}>Task Executed</a>
               
               <a href="{% url 'delete_entry' entry.id %}" class="btn btn-sm btn-danger">Delete</a>
               <a href="{% url 'update_entry' entry.id %}" class="btn btn-sm btn-success">Update</a>
               
             </td>
       </tr>
       {% endfor %}
    </tbody>
    </table>
    </div>
  </div> -->


  <div class="row" style="border: 0px;">

    <div class="container mt-4" style="margin-top: 20px; height: 80vh;">
        <!-- Nav tabs -->
        <ul class="nav nav-tabs" id="myTabs">
            <li class="nav-item">
                <a class="nav-link active" id="tab1-tab" data-toggle="tab" href="#tab1">All Submissions</a>
            </li>
            <li class="nav-item">
                <a class="nav-link" id="tab2-tab" data-toggle="tab" href="#tab2">Executed</a>
            </li>
            <li class="nav-item">
                <a class="nav-link" id="tab3-tab" data-toggle="tab" href="#tab3">Pending</a>
            </li>
            <!-- Add more tabs as needed -->
        </ul>
    
        <!-- Tab panes -->
        <div class="tab-content mt-2">
            <div class="tab-pane fade show active" id="tab1">
            <input type="text" class="form-control mb-2" id="searchTab1" placeholder="Search Tab 1">

                <!-- Table for Tab 1 -->
                <table class="table">
                   
                    <thead>
                        <tr>
                            <th>Form No.</th>
                            <!-- <th>Email</th> -->
                            <th>Employee Name</th>
                            <th>Employee ID</th>
                            <!-- <th>Designation</th> -->
                            <th>Details of Service</th>
                            <th>Actions</th>
                        </tr>
                     </thead>
                     <tbody>
                         {% for entry in service_requests %}
                        <tr>
                            <td>{{ entry.form_no }}</td>
                            <td>{{ entry.employee_name }}</td>
                            <td>{{ entry.employee_id }}</td>
                            <!-- <td>{{ entry.designation }}</td> -->
                            <td>{{ entry.details }}</td>
                            <td>
                             <button type="button" class="btn btn-outline-success btn-sm"><a href="{% url 'view_only' entry.id %}">View Form</a></button>
                                <a href="{% url 'task_execute' %}?id={{ entry.id }}&details={{ entry.details }}&status=1" class="btn btn-sm btn-primary" {% if entry.id in exec_log %}disabled{% endif %}>Task Executed</a>
                                
                                <a href="{% url 'delete_entry' entry.id %}" class="btn btn-sm btn-danger">Delete</a>
                                <a href="{% url 'update_entry' entry.id %}" class="btn btn-sm btn-success">Update</a>
                                <!-- <a href="{% url 'user_update' user.EmployeeID %}" class="btn btn-primary">Update</a> -->
                                <!-- <a href="{% url 'user_delete' user.EmployeeID %}" class="btn btn-danger">Delete</a> -->
                              </td>
                        </tr>
                        {% endfor %}
                     </tbody>
    
    
    
                </table>
            </div>
            <div class="tab-pane fade" id="tab2">
                <input type="text" class="form-control mb-2" id="searchTab2" placeholder="Search Tab 2">

                <!-- Table for Tab 2 -->
                <table class="table">
                    <thead>
                        <tr>
                            <th>#</th>
                            <th>Column 1</th>
                            <th>Column 2</th>
                            <!-- Add more columns as needed -->
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>1</td>
                            <td>Data 1</td>
                            <td>Data 2</td>
                            <!-- Add more data rows as needed -->
                        </tr>
                    </tbody>
                </table>
            </div>
            <div class="tab-pane fade" id="tab3">
                <input type="text" class="form-control mb-2" id="searchTab3" placeholder="Search Tab 2">

                <!-- Table for Tab 2 -->
                <table class="table">
                    <thead>
                        <tr>
                            <th>#</th>
                            <th>Column 1</th>
                            <th>Column 2</th>
                            <!-- Add more columns as needed -->
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>1</td>
                            <td>Data 1</td>
                            <td>Data 2</td>
                            <!-- Add more data rows as needed -->
                        </tr>
                    </tbody>
                </table>
            </div>
            <!-- Add more tab content divs as needed -->
        </div>
    </div>

  </div>

</div>




</div>

<script>
    $(document).ready(function(){
        // Tab 1 Search
        $("#searchTab1").on("keyup", function() {
            var value = $(this).val().toLowerCase();
            $("#tab1 tbody tr").filter(function() {
                $(this).toggle($(this).text().toLowerCase().indexOf(value) > -1)
            });
        });

        // Tab 2 Search
        $("#searchTab2").on("keyup", function() {
            var value = $(this).val().toLowerCase();
            $("#tab2 tbody tr").filter(function() {
                $(this).toggle($(this).text().toLowerCase().indexOf(value) > -1)
            });
        });
        // Tab 3 Search
        $("#searchTab3").on("keyup", function() {
            var value = $(this).val().toLowerCase();
            $("#tab3 tbody tr").filter(function() {
                $(this).toggle($(this).text().toLowerCase().indexOf(value) > -2)
            });
        });
    });
</script>

{% endblock content %}  